(this["webpackJsonpreact-line-login-example"]=this["webpackJsonpreact-line-login-example"]||[]).push([[0],{131:function(e,t,n){e.exports=n(274)},132:function(e,t,n){},162:function(e,t){},164:function(e,t){},177:function(e,t){},179:function(e,t){},207:function(e,t){},208:function(e,t){},213:function(e,t){},215:function(e,t){},239:function(e,t){},273:function(e,t,n){},274:function(e,t,n){"use strict";n.r(t);n(132);var o=n(9),c=n.n(o),a=n(126),l=n.n(a),i=n(56),s=n(127),r=n.n(s),u=n(128),p=n.n(u),d=n(129),f=n.n(d),m=n(55),h=n.n(m),_=n(130),y=n.n(_),g="_styles-module__App__1RLww",w="_styles-module__lineButton__RU-K2";const b=({clientID:e,clientSecret:t,state:n,nonce:a,setPayload:l,setIdToken:i})=>(Object(o.useEffect)(()=>{(n=>{var o=p.a.parse(n,!0).query;if(Object.prototype.hasOwnProperty.call(o,"code")){const n={grant_type:"authorization_code",code:o.code,redirect_uri:"http://localhost:3000/callback",client_id:e,client_secret:t},c={headers:{"Content-Type":"application/x-www-form-urlencoded"}};r.a.post("https://api.line.me/oauth2/v2.1/token",f.a.stringify(n),c).then(n=>{l&&l(n.data);try{const o=y.a.verify(n.data.id_token,t,{algorithms:["HS256"],audience:e.toString(),issuer:"https://access.line.me",nonce:a});i&&i(o)}catch(o){console.log(o)}}).catch(e=>{console.log(e)})}})(window.location.href)}),c.a.createElement("div",{className:g},c.a.createElement("div",{onClick:()=>(()=>{const t="https://access.line.me/oauth2/v2.1/authorize?"+h.a.stringify({response_type:"code",client_id:e,state:n,scope:"profile openid email",nonce:a,prompt:"consent",max_age:120,bot_prompt:"normal"})+"&redirect_uri=http://localhost:3000/callback";window.location.href=t})(),className:w})));n(273);var k=()=>{const e=Object(o.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],l=Object(o.useState)(null),s=Object(i.a)(l,2),r=s[0],u=s[1];return c.a.createElement("div",null,c.a.createElement(b,{clientID:"",clientSecret:"",state:"",nonce:"",setPayload:a,setIdToken:u}),console.log("payload",n),console.log("idToken",r))};l.a.render(c.a.createElement(k,null),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.d6c14400.chunk.js.map