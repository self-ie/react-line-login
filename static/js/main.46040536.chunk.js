(this["webpackJsonpreact-line-login-example"]=this["webpackJsonpreact-line-login-example"]||[]).push([[0],{130:function(e,t,n){e.exports=n(273)},131:function(e,t,n){},161:function(e,t){},163:function(e,t){},176:function(e,t){},178:function(e,t){},206:function(e,t){},207:function(e,t){},212:function(e,t){},214:function(e,t){},238:function(e,t){},272:function(e,t,n){},273:function(e,t,n){"use strict";n.r(t);n(131);var o=n(10),c=n.n(o),a=n(125),i=n.n(a),l=n(126),s=n.n(l),r=n(127),p=n.n(r),d=n(128),u=n.n(d),f=n(55),h=n.n(f),m=n(129),_=n.n(m),g="_styles-module__App__1RLww",y="_styles-module__lineButton__RU-K2";const w=({clientID:e,clientSecret:t,state:n,nonce:a})=>(Object(o.useEffect)(()=>{(n=>{var o=p.a.parse(n,!0).query;if(Object.prototype.hasOwnProperty.call(o,"code")){const n={grant_type:"authorization_code",code:o.code,redirect_uri:"http://localhost:3000/callback",client_id:e,client_secret:t},c={headers:{"Content-Type":"application/x-www-form-urlencoded"}};s.a.post("https://api.line.me/oauth2/v2.1/token",u.a.stringify(n),c).then(n=>{console.log("payload:"),console.log(n.data),console.log("id token:"),console.log(n.data.id_token);try{const o=_.a.verify(n.data.id_token,t,{algorithms:["HS256"],audience:e.toString(),issuer:"https://access.line.me",nonce:a});console.log("decoded id token:"),console.log(o)}catch(o){console.log(o)}}).catch(e=>{console.log(e)})}})(window.location.href)}),c.a.createElement("div",{className:g},c.a.createElement("div",{onClick:()=>(()=>{const t="https://access.line.me/oauth2/v2.1/authorize?"+h.a.stringify({response_type:"code",client_id:e,state:n,scope:"profile openid email",nonce:a,prompt:"consent",max_age:120,bot_prompt:"normal"})+"&redirect_uri=http://localhost:3000/callback";window.location.href=t})(),className:y})));n(272);var k=()=>c.a.createElement(w,{clientID:"",clientSecret:"",state:"",nonce:""});i.a.render(c.a.createElement(k,null),document.getElementById("root"))}},[[130,1,2]]]);
//# sourceMappingURL=main.46040536.chunk.js.map